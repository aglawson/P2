<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
    <title>ThreeZend</title>
    <p>Truly decentralized peer-to-peer payments, using custom usernames rather than unreadable addresses. <br/>Deposit AVAX or ERC20 tokens and move them seamlessly between friends!</p>
    <button id="connect" style="margin-top:0%; margin-left:90%;" onclick="init()">Connect Wallet</button>

    <h1 style="margin-top: -1.6%;">ThreeZend</h1>
    <p>Avalanche only. <br/>0.25% FEE WILL BE CHARGED UPON WITHDRAWAL. <br/>Supported Tokens: AVAX, USDC, VPND. </p>
    <a href="https://github.com/aglawson/P2" target="_blank"><button>Source Code</button></a>

  </head>
<body>

    <h2 id="un"></h2>
    <div id="balance">
      <input type="text" id="balTicker" placeholder="TICKER">
      <button id="getBal" onclick="getBalance()">Get Balance</button>
      <div id="balResult"></div>
    </div>

    <div id="ca">
     <input type="text" id="username" placeholder="MyUsername">
     <button id="createAccount" onclick="createAccount()">Create Account</button>
    </div>

    <div id="deposit">
        <h2>Deposit & Withdraw</h2>
        <input type="text" id="ticker" placeholder="ticker">
        <br/>
        <input type="number" id="amount" placeholder="amount">
        <br/>
        <button onclick="approve()">Approve (Before Depositing ERC20, one-time only)</button>
        <button id="depositFunds" onclick="deposit()">Deposit</button>
        <button id="withdraw" onclick="withdraw()">Withdraw</button>
    </div>

    <div id="send">
        <h2>Send Funds</h2>
        <input type="text" id="tickerr" placeholder="ticker">
        <br/>
        <input type="text" id="toUsername" placeholder="To Username">
        <br/>
        <input type="number" id="amountt" placeholder="amount">
        <br/>
        <input type="text" id="memo" placeholder="Memo">
        <br/>
        <button id="depositFunds" onclick="sendFunds()">Send Funds</button>
    </div>

    <div id="friends">
        <h2>Friends</h2>

        <input type="text" placeholder="Username" id="reqUsername">
        <br/>
        <input type="text" id="reqTicker" placeholder="Ticker">
        <br/>
        <input type="number" id="reqAmount" placeholder="Amount">
        <br/>
        <input type="text" id="reqReason" placeholder="Reason for Request">
        <br/>
        <button id="addFriend" onclick="addFriend()">Add Friend</button>
        <button id="sendReq" onclick="requestFunds()">Request Funds</button>
        <br/>
        <br/>
        <input type="number" id="reqId" placeholder="Request ID">
        <br/>
        <button id="fulfillReq" onclick="fulfillRequest()">Fulfill Request</button>
        <button id="rejectReq" onclick="rejectRequest()">Reject Request</button>
    </div>

    <h2>Pending Requests</h2>
    <div id="requests"></div>

    <script src="./abi.js"></script>
    <script src="./main.js"></script>

</body>

</html>